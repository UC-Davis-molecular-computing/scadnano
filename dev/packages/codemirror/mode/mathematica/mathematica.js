(function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){e.defineMode("mathematica",function(p,q){function g(a,b){var c=a.next();if('"'===c)return b.tokenize=h,b.tokenize(a,b);if("("===c&&a.eat("*"))return b.commentLevel++,b.tokenize=k,b.tokenize(a,b);a.backUp(1);if(a.match(l,!0,!1)||a.match(m,!0,!1))return"number";if(a.match(/(?:In|Out)\[[0-9]*\]/,!0,!1))return"atom";
if(a.match(/([a-zA-Z\$][a-zA-Z0-9\$]*(?:`[a-zA-Z0-9\$]+)*::usage)/,!0,!1))return"meta";if(a.match(/([a-zA-Z\$][a-zA-Z0-9\$]*(?:`[a-zA-Z0-9\$]+)*::[a-zA-Z\$][a-zA-Z0-9\$]*):?/,!0,!1))return"string-2";if(a.match(/([a-zA-Z\$][a-zA-Z0-9\$]*\s*:)(?:(?:[a-zA-Z\$][a-zA-Z0-9\$]*)|(?:[^:=>~@\^&\*\)\[\]'\?,\|])).*/,!0,!1)||a.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+[a-zA-Z\$][a-zA-Z0-9\$]*/,!0,!1)||a.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+/,!0,!1)||a.match(/_+[a-zA-Z\$][a-zA-Z0-9\$]*/,!0,!1))return"variable-2";if(a.match(/\\\[[a-zA-Z\$][a-zA-Z0-9\$]*\]/,
!0,!1))return"variable-3";if(a.match(/(?:\[|\]|{|}|\(|\))/,!0,!1))return"bracket";if(a.match(/(?:#[a-zA-Z\$][a-zA-Z0-9\$]*|#+[0-9]?)/,!0,!1))return"variable-2";if(a.match(n,!0,!1))return"keyword";if(a.match(/(?:\\|\+|\-|\*|\/|,|;|\.|:|@|~|=|>|<|&|\||_|`|'|\^|\?|!|%)/,!0,!1))return"operator";a.next();return"error"}function h(a,b){for(var c,d=!1,f=!1;null!=(c=a.next());){if('"'===c&&!f){d=!0;break}f=!f&&"\\"===c}d&&!f&&(b.tokenize=g);return"string"}function k(a,b){for(var c,d;0<b.commentLevel&&null!=
(d=a.next());)"("===c&&"*"===d&&b.commentLevel++,"*"===c&&")"===d&&b.commentLevel--,c=d;0>=b.commentLevel&&(b.tokenize=g);return"comment"}var l=RegExp("(?:(?:\\d+)(?:\\^\\^(?:\\.\\w+|\\w+\\.\\w*|\\w+)(?:`(?:`?(?:\\.\\d+|\\d+\\.\\d*|\\d+))?)?(?:\\*\\^[+-]?\\d+)?))"),m=RegExp("(?:(?:\\.\\d+|\\d+\\.\\d*|\\d+)(?:`(?:`?(?:\\.\\d+|\\d+\\.\\d*|\\d+))?)?(?:\\*\\^[+-]?\\d+)?)"),n=RegExp("(?:`?)(?:[a-zA-Z\\$][a-zA-Z0-9\\$]*)(?:`(?:[a-zA-Z\\$][a-zA-Z0-9\\$]*))*(?:`?)");return{startState:function(){return{tokenize:g,
commentLevel:0}},token:function(a,b){return a.eatSpace()?null:b.tokenize(a,b)},blockCommentStart:"(*",blockCommentEnd:"*)"}});e.defineMIME("text/x-mathematica",{name:"mathematica"})});
