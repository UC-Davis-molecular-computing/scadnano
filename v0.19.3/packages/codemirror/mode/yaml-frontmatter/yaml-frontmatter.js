(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],c):c(CodeMirror)})(function(c){c.defineMode("yaml-frontmatter",function(h,k){function f(a){return 1==a.state?{mode:d,state:a.yaml}:{mode:e,state:a.inner}}var d=c.getMode(h,"yaml"),e=c.getMode(h,k&&k.base||"gfm");return{startState:function(){return{state:0,yaml:null,inner:c.startState(e)}},copyState:function(a){return{state:a.state,
yaml:a.yaml&&c.copyState(d,a.yaml),inner:c.copyState(e,a.inner)}},token:function(a,b){if(0==b.state){if(a.match("---",!1))return b.state=1,b.yaml=c.startState(d),d.token(a,b.yaml);b.state=2;return e.token(a,b.inner)}if(1==b.state){var g=a.sol()&&a.match(/(---|\.\.\.)/,!1);a=d.token(a,b.yaml);g&&(b.state=2,b.yaml=null);return a}return e.token(a,b.inner)},innerMode:f,indent:function(a,b,g){a=f(a);return a.mode.indent?a.mode.indent(a.state,b,g):c.Pass},blankLine:function(a){a=f(a);if(a.mode.blankLine)return a.mode.blankLine(a.state)}}})});
