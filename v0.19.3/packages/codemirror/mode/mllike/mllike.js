(function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){e.defineMode("mllike",function(m,g){function h(a,b){var c=a.next();return'"'===c?(b.tokenize=n,b.tokenize(a,b)):"{"===c&&a.eat("|")?(b.longString=!0,b.tokenize=p,b.tokenize(a,b)):"("===c&&a.match(/^\*(?!\))/)?(b.commentLevel++,b.tokenize=q,b.tokenize(a,b)):"~"===c||"?"===c?(a.eatWhile(/\w/),"variable-2"):
"`"===c?(a.eatWhile(/\w/),"quote"):"/"===c&&g.slashComments&&a.eat("/")?(a.skipToEnd(),"comment"):/\d/.test(c)?("0"===c&&a.eat(/[bB]/)&&a.eatWhile(/[01]/),"0"===c&&a.eat(/[xX]/)&&a.eatWhile(/[0-9a-fA-F]/),"0"===c&&a.eat(/[oO]/)?a.eatWhile(/[0-7]/):(a.eatWhile(/[\d_]/),a.eat(".")&&a.eatWhile(/[\d]/),a.eat(/[eE]/)&&a.eatWhile(/[\d\-+]/)),"number"):/[+\-*&%=<>!?|@\.~:]/.test(c)?"operator":/[\w\xa1-\uffff]/.test(c)?(a.eatWhile(/[\w\xa1-\uffff]/),a=a.current(),k.hasOwnProperty(a)?k[a]:"variable"):null}
function n(a,b){for(var c,d=!1,l=!1;null!=(c=a.next());){if('"'===c&&!l){d=!0;break}l=!l&&"\\"===c}d&&!l&&(b.tokenize=h);return"string"}function q(a,b){for(var c,d;0<b.commentLevel&&null!=(d=a.next());)"("===c&&"*"===d&&b.commentLevel++,"*"===c&&")"===d&&b.commentLevel--,c=d;0>=b.commentLevel&&(b.tokenize=h);return"comment"}function p(a,b){for(var c,d;b.longString&&null!=(d=a.next());)"|"===c&&"}"===d&&(b.longString=!1),c=d;b.longString||(b.tokenize=h);return"string"}var k={as:"keyword","do":"keyword",
"else":"keyword",end:"keyword",exception:"keyword",fun:"keyword",functor:"keyword","if":"keyword","in":"keyword",include:"keyword",let:"keyword",of:"keyword",open:"keyword",rec:"keyword",struct:"keyword",then:"keyword",type:"keyword",val:"keyword","while":"keyword","with":"keyword"};m=g.extraWords||{};for(var f in m)m.hasOwnProperty(f)&&(k[f]=g.extraWords[f]);f=[];for(var r in k)f.push(r);e.registerHelper("hintWords","mllike",f);return{startState:function(){return{tokenize:h,commentLevel:0,longString:!1}},
token:function(a,b){return a.eatSpace()?null:b.tokenize(a,b)},blockCommentStart:"(*",blockCommentEnd:"*)",lineComment:g.slashComments?"//":null}});e.defineMIME("text/x-ocaml",{name:"mllike",extraWords:{and:"keyword",assert:"keyword",begin:"keyword","class":"keyword",constraint:"keyword",done:"keyword",downto:"keyword",external:"keyword","function":"keyword",initializer:"keyword",lazy:"keyword",match:"keyword",method:"keyword",module:"keyword",mutable:"keyword","new":"keyword",nonrec:"keyword",object:"keyword",
"private":"keyword",sig:"keyword",to:"keyword","try":"keyword",value:"keyword",virtual:"keyword",when:"keyword",raise:"builtin",failwith:"builtin","true":"builtin","false":"builtin",asr:"builtin",land:"builtin",lor:"builtin",lsl:"builtin",lsr:"builtin",lxor:"builtin",mod:"builtin",or:"builtin",raise_notrace:"builtin",trace:"builtin",exit:"builtin",print_string:"builtin",print_endline:"builtin","int":"type","float":"type",bool:"type","char":"type",string:"type",unit:"type",List:"builtin"}});e.defineMIME("text/x-fsharp",
{name:"mllike",extraWords:{"abstract":"keyword",assert:"keyword",base:"keyword",begin:"keyword","class":"keyword","default":"keyword",delegate:"keyword","do!":"keyword",done:"keyword",downcast:"keyword",downto:"keyword",elif:"keyword",extern:"keyword","finally":"keyword","for":"keyword","function":"keyword",global:"keyword",inherit:"keyword",inline:"keyword","interface":"keyword",internal:"keyword",lazy:"keyword","let!":"keyword",match:"keyword",member:"keyword",module:"keyword",mutable:"keyword",
namespace:"keyword","new":"keyword","null":"keyword",override:"keyword","private":"keyword","public":"keyword","return!":"keyword","return":"keyword",select:"keyword","static":"keyword",to:"keyword","try":"keyword",upcast:"keyword","use!":"keyword",use:"keyword","void":"keyword",when:"keyword","yield!":"keyword",yield:"keyword",atomic:"keyword","break":"keyword",checked:"keyword",component:"keyword","const":"keyword",constraint:"keyword",constructor:"keyword","continue":"keyword",eager:"keyword",
event:"keyword",external:"keyword",fixed:"keyword",method:"keyword",mixin:"keyword",object:"keyword",parallel:"keyword",process:"keyword","protected":"keyword",pure:"keyword",sealed:"keyword",tailcall:"keyword",trait:"keyword",virtual:"keyword","volatile":"keyword",List:"builtin",Seq:"builtin",Map:"builtin",Set:"builtin",Option:"builtin","int":"builtin",string:"builtin",not:"builtin","true":"builtin","false":"builtin",raise:"builtin",failwith:"builtin"},slashComments:!0});e.defineMIME("text/x-sml",
{name:"mllike",extraWords:{abstype:"keyword",and:"keyword",andalso:"keyword","case":"keyword",datatype:"keyword",fn:"keyword",handle:"keyword",infix:"keyword",infixr:"keyword",local:"keyword",nonfix:"keyword",op:"keyword",orelse:"keyword",raise:"keyword",withtype:"keyword",eqtype:"keyword",sharing:"keyword",sig:"keyword",signature:"keyword",structure:"keyword",where:"keyword","true":"keyword","false":"keyword","int":"builtin",real:"builtin",string:"builtin","char":"builtin",bool:"builtin"},slashComments:!0})});
